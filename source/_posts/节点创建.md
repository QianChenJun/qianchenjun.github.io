---
title: 节点创建
tags:
  - 节点
categories:
  - VPS
abbrlink: 96a44bc5
date: 2022-09-26 16:14:26
update: 2022-09-26 16:14:26
---

> 利用国外的VPS创建一个属于自己的节点。
>
> 本文章适合任意的国外的vps

*<!--more-->*

## 一、基础操作

> 先创建一个虚拟机，镜像选择Debian（后续有个加速需要使用这个系统），大小选择B1s，大约是10美元一个月。

![image-20220926195250356](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144528.png)



> 向下翻找到管理员账户，根据自己的习惯创建登陆方式

![image-20220926195735511](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144529.png)



> 剩下就是一直下一步直到创建成功。

![image-20220926195524842](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144530.png)



> 创建完成，转到资源找到IP地址

![image-20220926200120821](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144532.png)

![image-20220926200157712](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144533.png)



> 准备好一个域名，将其解析到目标IP（没有则跳过，但是还是建议）

![image-20220926200917509](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144534.png)



> 点击左侧的网络，开放进站和出站规则

![image-20220926203557079](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144535.png)



> 将优先级都设置为100（*代表开放全部端口）

![image-20220926203636739](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144536.png)

**出站规则同理**





## 二、shell工具操作

> 使用IP，账号、密码登录VPS进行后续操作（下面的操作都需要在root用户下操作：`sudo -i`）

1. 开启root登入

   ```shell
   sudo -i
   ```

   

2. 开启防火墙

   ```shell
   iptables -P INPUT ACCEPT
   iptables -P FORWARD ACCEPT	
   iptables -P OUTPUT ACCEPT
   iptables -F
   apt-get purge netfilter-persistent
   reboot
   ```

   

3. 申请SSL证书

   ```shell
   # 根据系统不同执行不同的命令
   apt update -y       # Debian/Ubuntu 命令
   apt install -y curl   # Debian/Ubuntu 命令
   apt install -y socat  # Debian/Ubuntu 命令
   
   yum update -y        #CentOS 命令
   yum install -y curl    #CentOS 命令
   yum install -y socat   #CentOS 命令
   ```

   ```shell
   curl https://get.acme.sh | sh
   
   # 注意换成自己的邮箱
   ~/.acme.sh/acme.sh --register-account -m xxxx@qq.com
   
   # 换成自己的域名
   ~/.acme.sh/acme.sh --issue -d naiyou.naiyoubbq.xyz --standalone
   
   # 换成自己的域名
   ~/.acme.sh/acme.sh --installcert -d naiyou.naiyoubbq.xyz --key-file /root/private.key --fullchain-file /root/cert.crt
   ```

   ![image-20220926204345543](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144537.png)

   

   > 文件位置在后面xray面板会使用到

   ```
   文件位置记录：
       更换你的解析域名，此步完成后会在VPS root目录下
       看到证书公钥/root/cert.crt及验证文件/root/private.key
   
       公钥/root/cert.crt
   
       验证文件/root/private.key
   ```

   

4. 安装xray面板

   ```shell
   bash <(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)
   ```

> 根据提示设置用户名、密码端口即可

![image-20220926204639802](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144538.png)



> 使用IP+端口进入xray面板，并设置公钥和私钥的位置，保存配置，重启面板

![image-20220926204853685](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144539.png)





5. 安装bbr加速**（注意此步骤仅限于Debian系统）**

   ```shell
   wget -N --no-check-certificate "https://raw.githubusercontent.com/chiakge/Linux-NetSpeed/master/tcp.sh" && chmod +x tcp.sh && ./tcp.sh
   ```

粘贴完之后选择2，等待片刻会弹出一下页面，选择no即可，然后选择**重启服务器**

![image-20220926205640943](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144540.png)



重新粘贴上述指令，选择7开启bbr加速（开启完成之后再次粘贴查看是否开启成功，不成功就重新连接服务器重复上述步骤）

![image-20220926210002816](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144541.png)





6. 创建网站节点

   ![image-20220926205348365](https://qianchen-image.oss-cn-beijing.aliyuncs.com/blog/202209262144542.png)

> 创建成功后，点击查看复制链接即可，然后找到一个订阅转换的网站，将链接转成clash专用即可导入clash，或者使用v2ray直接导入



工具网站：https://v2rayse.com/
